---
/**
 * HowItWorks component - 3-step visual process flow
 * 
 * Mobile-first design with rose pink accents and clean visual hierarchy.
 * Optimized for touch interactions and small screens.
 * Features smooth animations and accessible design patterns.
 */

/**
 * Step data for the how-it-works process
 * Each step includes number, icon SVG, title, and description
 */
const steps = [
  {
    number: 1,
    icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40" fill="none"><path d="M4.45672 19.5433C2.51443 17.601 2.51443 14.4519 4.45672 12.5096L5.75923 11.2071C6.14975 10.8166 6.78292 10.8166 7.17344 11.2071L12.7929 16.8266C13.1834 17.2171 13.1834 17.8502 12.7929 18.2408L11.4904 19.5433C9.54809 21.4856 6.39901 21.4856 4.45672 19.5433ZM4.45672 19.5433L2 22" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19.5433 4.45672C21.4856 6.39901 21.4856 9.54809 19.5433 11.4904L18.2408 12.7929C17.8502 13.1834 17.2171 13.1834 16.8266 12.7929L11.2071 7.17344C10.8166 6.78292 10.8166 6.14975 11.2071 5.75923L12.5096 4.45672C14.4519 2.51443 17.601 2.51442 19.5433 4.45672ZM19.5433 4.45672L22 2M12 8L10.5 9.5M16 12L14.5 13.5" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
    title: 'Connect Your Studio',
    description: "Link your MindBody account with one click. We'll automatically sync your classes, instructors, and members. Setup takes less than 5 minutes.",
    imageAlt: 'MindBody integration connection interface showing one-click setup'
  },
  {
    number: 2,
    icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40" fill="none"><path d="M13 11C13 8.79086 11.2091 7 9 7C6.79086 7 5 8.79086 5 11C5 13.2091 6.79086 15 9 15C11.2091 15 13 13.2091 13 11Z" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0386 7.55773C11.0131 7.37547 11 7.18927 11 7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7C19 9.20914 17.2091 11 15 11C14.2554 11 13.5584 10.7966 12.9614 10.4423" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 21C15 17.6863 12.3137 15 9 15C5.68629 15 3 17.6863 3 21" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M21 17C21 13.6863 18.3137 11 15 11" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
    title: 'Invite Your Instructors',
    description: 'Let your instructors personalize their email templates. They can customize messages to match their teaching style and connect authentically with members.',
    imageAlt: 'Instructor dashboard showing email template customization interface'
  },
  {
    number: 3,
    icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40" fill="none"><path d="M7.00024 18V16M12.0002 18V15M17.0002 18V13" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19.5 2.5C20.6046 2.5 21.5 3.39543 21.5 4.5V19.5C21.5 20.6046 20.6046 21.5 19.5 21.5H4.5C3.39543 21.5 2.5 20.6046 2.5 19.5V4.5C2.5 3.39543 3.39543 2.5 4.5 2.5H19.5Z" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linejoin="round"></path><path d="M15.0002 6H18.0002V9M6.00024 12C13.0002 12 17.5002 6.5 17.5002 6.5" stroke="rgb(251, 113, 133)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
    title: 'Track Engagement',
    description: 'Monitor email performance and member feedback in real-time. See what resonates with your community and continuously improve.',
    imageAlt: 'Analytics dashboard displaying email statistics and member feedback metrics'
  }
];
---

<section
  id="how-it-works"
  class="relative overflow-hidden py-16 sm:py-20 lg:py-28"
  aria-labelledby="how-it-works-heading"
  role="region"
>
  <div class="absolute inset-0 bg-gradient-radial-pink opacity-25" aria-hidden="true"></div>
  <div class="absolute inset-x-0 top-0 h-48 bg-white/85 backdrop-blur-sm border-b border-rose-100/60" aria-hidden="true"></div>

  <div class="relative z-10 max-w-6xl mx-auto px-5 sm:px-8">
    <div class="text-center">
      <div class="inline-flex items-center px-4 py-1 mb-5 text-xs sm:text-sm font-semibold uppercase tracking-wide rounded-full bg-rose-100 text-rose-600">
        Guided onboarding
      </div>
      <h2 id="how-it-works-heading" class="font-heading font-bold text-[28px] sm:text-4xl lg:text-5xl leading-tight text-neutral-900">
        Launch FitnessFollowup in Three Guided Steps
      </h2>
      <p class="mt-4 font-body text-base sm:text-lg lg:text-xl text-neutral-600 leading-relaxed max-w-3xl mx-auto">
        Connect MindBody, invite instructors, and start tracking engagement—each step is designed to work perfectly on mobile so your team can set up FitnessFollowup in minutes.
      </p>
    </div>

    <ol class="mt-12 sm:mt-14 grid gap-6 sm:gap-7 lg:gap-9 lg:grid-cols-3" role="list" aria-label="FitnessFollowup onboarding steps">
      {steps.map((step, index) => (
        <li class="relative">
          {index < steps.length - 1 && (
            <div
              class="pointer-events-none absolute left-1/2 top-[calc(100%-14px)] h-12 w-px -translate-x-1/2 bg-gradient-to-b from-rose-200/70 to-transparent sm:hidden"
              aria-hidden="true"
            ></div>
          )}
          {index < steps.length - 1 && (
            <div
              class="pointer-events-none absolute top-1/2 right-[-54px] hidden h-px w-24 -translate-y-1/2 bg-gradient-to-r from-rose-100 via-rose-200 to-transparent lg:block"
              aria-hidden="true"
            ></div>
          )}

          <article class="relative flex h-full flex-col rounded-3xl border border-rose-100 bg-white/90 px-6 pt-14 pb-8 sm:px-8 sm:pt-16 sm:pb-10 shadow-[0_18px_55px_rgba(251,113,133,0.14)] transition-transform duration-300 hover:-translate-y-1 hover:shadow-[0_30px_80px_rgba(251,113,133,0.2)]">
            <div
              class="absolute left-1/2 -top-9 flex h-16 w-16 -translate-x-1/2 items-center justify-center rounded-full bg-gradient-to-br from-[rgb(251,113,133)] to-[rgb(244,63,94)] text-2xl font-bold text-white shadow-lg shadow-pink-200/60"
              aria-label={`Step ${step.number}`}
            >
              {step.number}
            </div>

            <div class="flex flex-col items-center text-center">
              <div class="inline-flex h-14 w-14 items-center justify-center rounded-full border border-rose-100 bg-rose-50/80 shadow-sm" aria-hidden="true">
                <div class="scale-90" set:html={step.icon}></div>
              </div>
              <h3 class="mt-6 font-heading text-xl sm:text-2xl lg:text-[28px] font-bold text-neutral-900 leading-snug">
                {step.title}
              </h3>
              <p class="mt-4 font-body text-sm sm:text-base text-neutral-600 leading-relaxed">
                {step.description}
              </p>
              {/* <p class="mt-5 text-xs sm:text-sm text-neutral-400 italic">
                {step.imageAlt}
              </p> */}
            </div>
          </article>
        </li>
      ))}
    </ol>

    <div class="mt-14 sm:mt-16 lg:mt-20 text-center">
      <a
        href="#waitlist"
        class="inline-flex items-center justify-center w-full sm:w-auto rounded-full bg-rose-500 px-8 py-4 text-base sm:text-lg font-semibold text-white shadow-lg shadow-rose-500/30 transition hover:bg-rose-600"
        data-astro-interactive
        aria-label="Start your free setup - Navigate to waitlist signup form"
      >
        Start Your Free Setup
      </a>
      <p class="mt-4 text-xs sm:text-sm text-neutral-500">
        No credit card required • Setup in under 5 minutes
      </p>
    </div>
  </div>
</section>