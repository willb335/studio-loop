---
/**
 * Features component - Alternating layout with app screenshots
 * 
 * Displays main features with large images alternating between left and right,
 * followed by a grid of smaller feature cards. Implements the redesign from
 * REDESIGN_PLAN.md Phase 2 Task 3.
 * 
 * Layout pattern:
 * - Row 1: Text left, image right (white background)
 * - Row 2: Image left, text right (pink-50 background)
 * - Row 3: Text left, image right (white background)
 * - Grid of 3 smaller feature cards below
 * 
 * @see docs/REDESIGN_PLAN.md - Features Section (lines 257-323)
 */

/**
 * Main feature data for alternating rows
 * Each feature includes emoji, title, description, image path, and layout direction
 */
const mainFeatures = [
  {
    emoji: 'üìß',
    title: 'Automated Post-Class Emails',
    description: 'Send personalized follow-ups automatically after every class. Make your members feel valued without lifting a finger.',
    image: '/src/assets/app/email-followup.png.svg',
    imageAlt: 'Email follow-up editor interface showing personalized message templates',
    layout: 'text-left' // text on left, image on right
  },
  {
    emoji: '‚≠ê',
    title: 'Detailed Member Feedback',
    description: 'Collect actionable insights with our 10-star rating system. Know exactly what your members love and where to improve.',
    image: '/src/assets/app/client-feedback.png.svg',
    imageAlt: 'Member feedback page showing 10-star ratings and reviews',
    layout: 'image-left' // image on left, text on right
  },
  {
    emoji: 'üîó',
    title: 'Seamless MindBody Integration',
    description: 'Connect your MindBody account in one click. We automatically sync your classes, instructors, and member lists.',
    image: '/src/assets/app/instructor-dashboard.png.svg',
    imageAlt: 'Dashboard showing MindBody integration status and sync controls',
    layout: 'text-left' // text on left, image on right
  }
];

/**
 * Additional features displayed as smaller cards
 * Simple icon + title + description format in a grid
 */
const additionalFeatures = [
  {
    emoji: 'üí∞',
    title: 'Transparent Pricing',
    description: 'Just $29/month. No contracts, no hidden fees, no surprises.'
  },
  {
    emoji: '‚ö°',
    title: 'Lightning-Fast Setup',
    description: "Get started in under 5 minutes. Seriously, it's that easy."
  },
  {
    emoji: 'üìä',
    title: 'Clear Analytics',
    description: 'Track email performance and member engagement at a glance.'
  }
];
---

<section id="features" class="bg-white py-20 sm:py-24 lg:py-32" aria-labelledby="features-heading">
  <div class="max-w-7xl mx-auto px-5 sm:px-10 lg:px-20">
    <!-- Section Header -->
    <div class="text-center mb-16 sm:mb-20 lg:mb-24">
      <h2 id="features-heading" class="font-heading text-3xl sm:text-4xl lg:text-[2.75rem] font-semibold text-neutral-900 mb-6 leading-tight">
        Everything You Need to Connect with Members
      </h2>
      <p class="font-body text-lg sm:text-xl text-neutral-600 leading-relaxed max-w-3xl mx-auto">
        Simple, powerful features that help you build stronger relationships with your fitness community.
      </p>
    </div>

    <!-- Main Features - Alternating Layout -->
    <div class="space-y-20 lg:space-y-24 mb-20 lg:mb-32">
      {mainFeatures.map((feature, index) => {
        const isImageLeft = feature.layout === 'image-left';
        const bgClass = index === 1 ? 'bg-pink-50' : 'bg-white';
        
        return (
          <div class={`${bgClass} rounded-2xl p-8 sm:p-12 lg:p-16 -mx-5 sm:mx-0`}>
            <div class={`max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center ${isImageLeft ? 'lg:grid-flow-dense' : ''}`}>
              
              {/* Text Content */}
              <div class={isImageLeft ? 'lg:col-start-2' : ''}>
                <div class="mb-6" aria-hidden="true">
                  <span class="text-5xl sm:text-6xl inline-block">
                    {feature.emoji}
                  </span>
                </div>
                <h3 class="font-heading text-2xl sm:text-3xl lg:text-[2rem] font-semibold text-neutral-900 mb-4 leading-tight">
                  {feature.title}
                </h3>
                <p class="font-body text-base sm:text-lg text-neutral-600 leading-relaxed max-w-md">
                  {feature.description}
                </p>
              </div>

              {/* Image */}
              <div class={isImageLeft ? 'lg:col-start-1 lg:row-start-1' : ''}>
                <div class="relative rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300">
                  <img 
                    src={feature.image} 
                    alt={feature.imageAlt}
                    class="w-full h-auto object-cover"
                    loading="lazy"
                  />
                </div>
              </div>

            </div>
          </div>
        );
      })}
    </div>

    <!-- Additional Features Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
      {additionalFeatures.map((feature) => (
        <article class="bg-white border border-neutral-200 rounded-2xl p-8 hover:border-pink-200 hover:shadow-md transition-all duration-300">
          <div class="mb-4" aria-hidden="true">
            <span class="text-4xl inline-block">
              {feature.emoji}
            </span>
          </div>
          <h4 class="font-heading text-xl font-semibold text-neutral-900 mb-3">
            {feature.title}
          </h4>
          <p class="font-body text-base text-neutral-600 leading-relaxed">
            {feature.description}
          </p>
        </article>
      ))}
    </div>
  </div>
</section>